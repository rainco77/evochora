pipeline {
  resources {
    test-channel {
      className = "org.evochora.datapipeline.resources.InMemoryChannel"
      options {
        capacity = 100
      }
    }
  }

  services {
    dummy-producer {
      className = "org.evochora.datapipeline.services.DummyProducerService"
      resources {
        messages = "channel-out:test-channel"
      }
      options {
        messageCount = 5
        executionDelay = 10
      }
    }

    dummy-consumer {
      className = "org.evochora.datapipeline.services.DummyConsumerService"
      resources {
        messages = "channel-in:test-channel"
      }
    }
  }

  autoStart = false
  startupSequence = ["dummy-producer", "dummy-consumer"]

  metrics {
    enableMetrics = true
    updateIntervalSeconds = 1
  }
}

logging {
  default-level = "WARN"
  levels {
    "org.evochora.datapipeline" = "INFO"
  }
}
