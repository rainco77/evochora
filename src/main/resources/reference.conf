# Default configuration for the data pipeline.
# This file provides sensible defaults for all services and channels.
# Users can override these settings with a custom HOCON file,
# command-line arguments (-D), or environment variables.

logging {
  # The format for the log output. Can be "JSON" or "PLAIN".
  format = "JSON"

  # Default log level for all loggers. Can be TRACE, DEBUG, INFO, WARN, ERROR.
  root = "INFO"

  # Per-logger levels can be specified here.
  loggers {
    "org.evochora" = "INFO"
    "org.evochora.datapipeline.services.engine.SimulationEngine" = "INFO"
  }
}

pipeline {
  # Default channel implementations.
  # These can be overridden to use different channel types (e.g., Kafka).
  channels {
    raw-tick-stream {
      # This should be a class that implements IInputChannel and IOutputChannel
      # For in-process communication, InMemoryChannel is a good default.
      className = "org.evochora.datapipeline.channels.InMemoryChannel"
      options {
        capacity = 1000
      }
    }
  }

  # Default service implementations.
  services {
    simulation {
      # This placeholder will be replaced with the real implementation once it is migrated.
      className = "org.evochora.datapipeline.services.engine.SimulationEngine"
      outputs = ["raw-tick-stream"]
      options {
        # Default organism to run in the simulation.
        organismSources = ["assembly/primordial/main.s"]
      }
    }
  }
}
