# Evochora Data Pipeline Configuration
# This is the main configuration file for the Evochora data pipeline.
# It defines the services and channels that make up the pipeline.

pipeline {
  # Channel definitions - message transport mechanisms between services
  channels {
    raw-tick-stream {
      className = "org.evochora.datapipeline.channels.InMemoryChannel"
      options {
        capacity = 1000  # Maximum number of messages in the queue
      }
    }
  }
  
  # Service definitions - the actual processing components
  services {
    simulation {
      className = "org.evochora.datapipeline.services.SimulationEngine"
      outputs = ["raw-tick-stream"]  # This service writes to the raw-tick-stream channel
      options {
        organismSources = ["assembly/primordial/main.s"]  # Assembly files to load
      }
    }
  }
}

# Logging configuration
logging {
  format = "PLAIN"  # Can be "PLAIN" or "JSON". Defaults to PLAIN for interactive, JSON for headless.
  default-level = "INFO"  # Default log level for all loggers
  levels {
    # Specific logger levels - override the default for particular components
    "org.evochora.datapipeline.core.ServiceManager" = "INFO"
  }
}
